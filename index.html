<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ガチャメーカー</title>
  <link rel="stylesheet" href="styles.css">
 <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ffcc00">
</head>
<body>
  <!-- メニューバー -->
  <div class="navbar">
  <button id="mute-button" onclick="toggleMute()">ミュート</button>
  <span id="mute-status" class="mute-indicator">音あり</span>
  </div>
<div class="menu-container">
    <div class="hamburger-menu" onclick="toggleMenu()">☰</div>
    <ul class="menu-list" id="menu-list">
        <li><a href="index.html">ホーム</a></li>
        <li><a href="history.html">ガチャ履歴</a></li>
        <li><a href="summary.html">景品集計</a></li>
    </ul>
</div>

  <div class="container">
    <h1>鈴宮りん  <br>ガチャメーカー</br></h1>

    <div class="section">
      <label for="player-name">リスナー名:</label>
      <input type="text" id="player-name" placeholder="リスナー名を入力">
    </div>

    <div class="section">
      <label for="gacha-count">ガチャ回数:</label>
      <input type="number" id="gacha-count" value="1" min="1" max="10">
      <button onclick="pullGacha()">ガチャを引く</button>
</div>
<!-- ガチャマシンのエリア -->
<div class="gacha-machine">
    <img id="gacha-frame" src="image1.png" alt="Gacha Animation">
</div>
    <div class="section">
      <h2>景品リスト</h2>
      <div class="item-summary">
    <p id="total-rate-display">0.00 / 100%</p> <!-- 🎯 ここに現在の合計確率を表示 -->
    <p id="total-items-display">景品の数: 0 個</p>
</div>
      <div class="item-list" id="item-list"></div>
      <div>
        <input type="text" id="item-name" placeholder="景品名">
        <input type="number" id="item-rate" placeholder="確率 (%)" min="1" max="100">
        <button onclick="addItem()">景品を追加</button>
      </div>
    </div>
    
<div id="gacha-result-panel">
    <h2 id="player-name-display" class="player-name"></h2>
    <img id="result-image" src="" alt="景品画像">
    <div class="result-overlay">
    <div id="result-list"></div>
    <div class="result-buttons">
        <button id="close-button" onclick="closeResultPanel()">閉じる</button>
        <button id="post-x-button" onclick="postToX()">
           <img src="logo-white.png" alt="X 投稿">
        </button>
</div>
</div>

  <script src="script.js">
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js").then(() => {
      console.log("Service Worker Registered");
    });
  }
</script>
  </script>
</body>
</html>