<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ガチャメーカー</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- メニューバー -->
  <div class="navbar">
  <button id="mute-button" onclick="toggleMute()">ミュート</button>
  <span id="mute-status" class="mute-indicator">音あり</span>
  <a href="summary.html">集計ページ</a>
</div>

  <div class="container">
    <h1>鈴宮りんガチャメーカー</h1>

    <div class="section">
      <label for="player-name">リスナー名:</label>
      <input type="text" id="player-name" placeholder="リスナー名を入力">
    </div>

    <div class="section">
      <label for="gacha-count">ガチャ回数:</label>
      <input type="number" id="gacha-count" value="1" min="1" max="10">
      <button onclick="pullGacha()">ガチャを引く</button>
</div>
<!-- ガチャマシンのエリア -->
<div class="gacha-machine">
    <img id="gacha-frame" src="image1.png" alt="Gacha Animation">
</div>
<!-- ガチャ結果のポップアップパネル -->
<div id="gacha-result-panel" class="result-panel" style="display: none;">
    <div class="result-content">
       <p id="player-name-display" class="player-name-text"></p>
        <img id="result-image" src="" alt="Gacha Result">
        <div id="result-text" class="result-overlay"></div>
        <button onclick="postToX()" class="post-button">Xに投稿</button>
        <button onclick="closeResultPanel()" class="close-button">閉じる</button>
    </div>
</div>

    <div class="section">
      <h2>景品リスト</h2>
      <div class="item-list" id="item-list"></div>
      <div>
        <input type="text" id="item-name" placeholder="景品名">
        <input type="number" id="item-rate" placeholder="確率 (%)" min="1" max="100">
        <button onclick="addItem()">景品を追加</button>
      </div>
    </div>

    <div class="section">
      <h2>ガチャ履歴</h2>
      <div class="history-table">
        <table id="history-list">
          <thead>
            <tr>
              <th>リスナー名</th>
              <th>景品内容</th>
              <th>合計回数</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <button onclick="clearHistory()">履歴をクリア</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>